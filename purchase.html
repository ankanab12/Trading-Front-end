<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hemraj Group | Trading Purchase</title>
  <link rel="stylesheet" href="purchase.css" />
  <link rel="icon" type="image/png" href="assets/favicon.ico" />
  <!-- jsPDF & autoTable (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <nav class="navbar">
    <div class="logo">
      <img src="assets/logo.png" alt="Hemraj Group Logo">
      <span>Hemraj Group</span>
    </div>
    <ul class="nav-links">
      <li class="dropdown">
        <a href="#">Dashboards â–¾</a>
        <ul class="dropdown-content">
          <li><a href="purchase-dashboard.html">Purchase Dashboard</a></li>
          <li><a href="sells-dashboard.html">Sells Dashboard</a></li>
          <li><a href="summary.html">Summary Dashboard</a></li>
        </ul>
      </li>
      <li><a href="purchase.html">Trading Purchase</a></li>
      <li><a href="sells.html">Trading Sells</a></li>
      <li><a href="expense.html">Trading Expense</a></li>
    </ul>
  </nav>

  <main class="container">
    <section class="form-card">
      <h2>New Business Confirmation</h2>
      <form id="bcForm">
        <div class="grid">
          <label>Business Confirmation No.<input name="businessNo" required/></label>
          <label>Date<input name="date" type="date" required/></label>
          <label>Seller<input name="seller"/></label>
          <label>Buyer<input name="buyer"/></label>
          <label>KYC Norms<input name="kyc"/></label>
          <label>Broker Name / Direct<input name="broker"/></label>
          <label>Commodity
            <select id="commoditySelect">
              <option>Canadian Yellow Peas</option>
              <option>Russian/Ukrainian Yellow Peas</option>
              <option>Australian Red Lentils-Nipper</option>
              <option>Australian Red Lentils-Nugget</option>
              <option>Canadian Red Lentils-Crimson</option>
              <option>Australian Chickpeas</option>
              <option>Tanzanian Chickpeas</option>
              <option>Indian Desi Chickpeas</option>
              <option>Black Matpe- FAQ</option>
              <option>Black Matpe- SQ</option>
              <option>Pigeon Peas-Lemon</option>
              <option>Wheat Milling Quality</option>
              <option>Maize</option>
              <option>Sugar S-30/S-31</option>
              <option>Sugar M-30/M-31</option>
              <option>Sugar L-30/L-31</option>
              <option>Cumin</option>
              <option>Coriander</option>
              <option>Turmeric</option>
              <option>Rice</option>
              <option>Oil</option>
              <option>Other</option>
            </select>
            <input type="text" id="commodityOther" class="hidden other-input" placeholder="Enter commodity" />
          </label>
          <label>Country of Origin<input name="country"/></label>
          <label>Quality Specification / Standard<input name="qualitySpec"/></label>
          <label>Packing<input name="packing"/></label>
          <label>Shipment / Delivery Period<input name="shipmentPeriod"/></label>
          <label>Brokerage<input name="brokerage"/></label>
          <label>Vessel Name<input name="vessel"/></label>
          <label>Loading Conditions<input name="loadingConditions"/></label>
          <label>Buying Quantity(In MT)<input name="buyingQty"/></label>
          <label>Price(Per MT)<input name="priceIncoterms"/></label>
          <label>Incoterms<input name="Incoterms"/></label>

          <!-- NEW: Manual Currency Conversion Rate -->
          <label>Purchase Date Conversion Rate (USD to INR)
            <input name="conversionRate" id="conversionRate" type="number" step="0.01" placeholder="Enter rate manually" />
          </label>

          <!-- Updated: Amount USD & INR -->
          <label>
            Total Amount (In USD)
            <input name="amountUSD" id="amountUSD" readonly />
          </label>
          <label>
            Total Amount (In INR)
            <input name="amountINR" id="amountINR" readonly />
          </label>

          <label>Payment Terms<input name="paymentTerms"/></label>
          <label>Weight and Quality<input name="weightQuality"/></label>
          <label>GAFTA Contract No. 88<input name="gafta"/></label>
          <label>Fumigation<input name="fumigation"/></label>
          <label>Documents<input name="documents"/></label>
          <label>Free Days<input name="freeDays"/></label>
        </div>

        <div class="form-actions">
          <button type="submit" id="submitBtn">Submit</button>
          <button type="button" id="resetBtn">Clear</button>
        </div>
        <input type="hidden" id="editIndex" value="-1" />
      </form>
    </section>

    <section class="controls-card">
      <div class="filters">
        <label>From: <input type="date" id="filterFrom" /></label>
        <label>To: <input type="date" id="filterTo" /></label>
        <label>Business Confirmation No.: <input type="text" id="filterBc" placeholder="BC no. or partial"/></label>
        <button id="applyFilters">Apply</button>
        <button id="clearFilters">Clear</button>
      </div>
    </section>

    <section class="table-card">
      <h3>Business Confirmations</h3>
      <div class="table-wrap">
        <table id="bcTable">
          <thead>
            <tr id="tableHeadRow"></tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
    </section>
  </main>

  <script src="purchase.js"></script>
</body>
</html>
